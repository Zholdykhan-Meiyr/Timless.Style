<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Timeless Style ‚Äî –≠–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å –≤–Ω–µ –≤—Ä–µ–º–µ–Ω–∏</title>
  <style>
    :root{
      --bg:#f8f5f1;
      --brown:#4a3b2b;
      --beige:#fff6ee;
      --accent:#d2b48c;
      --container:1100px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Georgia,serif;background:var(--bg);color:var(--brown);-webkit-font-smoothing:antialiased}
    .container{max-width:var(--container);margin:0 auto;padding:0 20px}

    /* --- –ù–∞–≤–∏–≥–∞—Ü–∏—è --- */
    .site-header{
      position:fixed;top:0;left:0;width:100%;z-index:100;
      transition:background-color .4s ease, box-shadow .4s ease;
      background:rgba(74,59,43,0.05);
      backdrop-filter:blur(6px);
      border-bottom:1px solid rgba(255,255,255,0.06);
    }
    .site-header.scrolled{
      background:var(--brown);
      box-shadow:0 2px 10px rgba(0,0,0,0.25);
    }
    .header-inner{
      max-width:var(--container);
      margin:0 auto;
      display:flex;align-items:center;justify-content:space-between;
      padding:18px 20px;
    }
    .logo{color:var(--beige);font-weight:700;text-decoration:none;font-size:20px;letter-spacing:1px}
    .nav{display:flex;align-items:center;gap:22px}
    .nav a{color:var(--beige);text-decoration:none;font-size:13px;letter-spacing:1px;padding:6px 8px}
    .nav a:hover{color:var(--accent)}
    .cart-btn{
      background:transparent;border:1px solid rgba(255,255,255,0.15);color:var(--beige);
      padding:8px 12px;border-radius:8px;font-size:13px;cursor:pointer;position:relative;
    }
    .cart-badge{
      position:absolute;top:-8px;right:-8px;background:#ef4444;color:white;
      border-radius:50%;width:20px;height:20px;font-size:11px;
      display:flex;align-items:center;justify-content:center;font-weight:bold;
    }

    /* --- Hero --- */
    .hero{
      position:relative;height:92vh;min-height:560px;
      display:flex;align-items:center;overflow:hidden;
    }
    .hero video{
      position:absolute;inset:0;width:100%;height:100%;
      object-fit:cover;
      filter:brightness(65%) sepia(25%) hue-rotate(-5deg) saturate(120%);
    }
    .hero-overlay{
      position:absolute;inset:0;
      background:linear-gradient(180deg, rgba(8,6,4,0.25), rgba(8,6,4,0.55));
    }
    .hero-inner{
      position:relative;z-index:5;
      max-width:var(--container);
      margin:0 auto;padding:60px 20px;
      display:flex;align-items:center;justify-content:space-between;gap:24px;
    }
    .hero-left{flex:1;min-width:300px;color:var(--beige)}
    .hero-title{font-size:56px;line-height:1;margin:0 0 12px;font-weight:600}
    .hero-sub{margin:0 0 18px;color:rgba(255,250,242,0.9);font-size:17px}
    .hero-actions{display:flex;gap:12px}
    .hero-actions a{
      text-decoration:none;border-radius:8px;padding:12px 18px;font-size:15px;
      transition:all .3s ease;
    }

    /* --- Section --- */
    .section{padding:80px 0}
    .section .title{font-size:28px;color:var(--brown);margin:0 0 14px}

    /* --- Products --- */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:22px;margin-top:20px}
    .card{
      background:var(--beige);
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 6px 25px rgba(74,59,43,0.08);
      display:flex;flex-direction:column;
      transition:transform .4s ease, box-shadow .4s ease;
      cursor:pointer;
    }
    .card:hover{transform:translateY(-5px);box-shadow:0 10px 40px rgba(74,59,43,0.15)}
    .card img{width:100%;height:340px;object-fit:cover}
    .card-body{padding:16px}
    .card-body h4{margin:0 0 6px}
    .price{color:var(--brown);font-weight:bold;margin-bottom:10px}
    .buy-btn{
      background:var(--brown);color:var(--beige);
      border:none;border-radius:6px;padding:8px 12px;width:100%;
      cursor:pointer;font-size:14px;transition:background .3s;
    }
    .buy-btn:hover{background:#3a2f21}

    /* --- Lookbook --- */
    .lookbook{
      display:grid;grid-template-columns:repeat(4,1fr);gap:22px;
    }
    .lookbook img{
      width:100%;height:550px;object-fit:cover;
      border-radius:14px;
      transition:transform .6s ease,filter .6s ease;
      filter:brightness(95%) sepia(10%);
    }
    .lookbook img:hover{
      transform:scale(1.04);
      filter:brightness(102%) sepia(0%);
    }

    /* --- Modal --- */
    .modal{
      display:none;
      position:fixed;inset:0;background:rgba(0,0,0,0.6);
      z-index:1000;align-items:center;justify-content:center;padding:20px;
    }
    .modal.active{display:flex}
    .modal-content{
      background:white;border-radius:16px;max-width:900px;width:100%;
      max-height:90vh;overflow-y:auto;position:relative;
    }
    .modal-close{
      position:absolute;top:16px;right:16px;
      background:white;border:none;border-radius:50%;
      width:40px;height:40px;cursor:pointer;
      display:flex;align-items:center;justify-content:center;
      font-size:24px;z-index:10;box-shadow:0 2px 8px rgba(0,0,0,0.1);
    }
    .modal-close:hover{background:#f3f4f6}
    .modal-body{display:grid;grid-template-columns:1fr 1fr;gap:24px;padding:24px}
    .modal-image{border-radius:12px;overflow:hidden}
    .modal-image img{width:100%;height:100%;object-fit:cover}
    .modal-info{display:flex;flex-direction:column;justify-content:space-between}
    .modal-category{
      display:inline-block;background:#fef3c7;color:#92400e;
      padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600;margin-bottom:12px;
    }
    .modal-title{font-size:32px;font-weight:bold;margin-bottom:16px;color:var(--brown)}
    .modal-description{color:#6b7280;line-height:1.7;margin-bottom:24px}
    .modal-price{font-size:36px;font-weight:bold;color:#92400e;margin-bottom:24px}
    .modal-actions{display:flex;gap:12px}
    .modal-actions button{
      flex:1;padding:12px 24px;border-radius:8px;font-size:15px;
      font-weight:500;cursor:pointer;transition:all .3s;border:none;
    }
    .btn-add{background:var(--brown);color:white}
    .btn-add:hover{background:#3a2f21}
    .btn-cancel{background:#e5e7eb;color:var(--brown)}
    .btn-cancel:hover{background:#d1d5db}

    /* --- Cart Sidebar --- */
    .cart-sidebar{
      position:fixed;right:0;top:0;height:100%;width:100%;max-width:450px;
      background:white;box-shadow:-4px 0 20px rgba(0,0,0,0.15);
      transform:translateX(100%);transition:transform .3s ease;z-index:1001;
      display:flex;flex-direction:column;
    }
    .cart-sidebar.active{transform:translateX(0)}
    .cart-overlay{
      display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:1000;
    }
    .cart-overlay.active{display:block}
    .cart-header{
      background:linear-gradient(135deg, var(--brown), #5c4a3a);
      color:white;padding:24px;
    }
    .cart-header h2{font-size:24px;margin-bottom:4px}
    .cart-header p{font-size:14px;opacity:0.9}
    .cart-close{
      position:absolute;top:24px;right:24px;
      background:rgba(255,255,255,0.2);border:none;border-radius:8px;
      padding:8px;cursor:pointer;color:white;
    }
    .cart-items{flex:1;overflow-y:auto;padding:24px}
    .cart-item{
      background:#f9fafb;border-radius:12px;padding:16px;margin-bottom:16px;
      display:flex;gap:16px;
    }
    .cart-item-img{width:80px;height:80px;border-radius:8px;object-fit:cover}
    .cart-item-info{flex:1}
    .cart-item-name{font-weight:600;color:var(--brown);margin-bottom:4px}
    .cart-item-price{color:#92400e;font-weight:bold;margin-bottom:8px}
    .cart-item-controls{display:flex;align-items:center;gap:12px}
    .qty-control{
      display:flex;align-items:center;gap:8px;background:white;
      border-radius:8px;padding:4px;box-shadow:0 1px 3px rgba(0,0,0,0.1);
    }
    .qty-btn{
      background:transparent;border:none;width:28px;height:28px;
      cursor:pointer;display:flex;align-items:center;justify-content:center;
      border-radius:6px;transition:background .2s;
    }
    .qty-btn:hover{background:#f3f4f6}
    .qty-value{width:32px;text-align:center;font-weight:600}
    .remove-btn{
      background:transparent;border:none;color:#dc2626;
      cursor:pointer;padding:6px;border-radius:6px;
      display:flex;align-items:center;justify-content:center;
    }
    .remove-btn:hover{background:#fee2e2}
    .cart-empty{
      text-align:center;padding:60px 20px;color:#9ca3af;
    }
    .cart-empty svg{margin:0 auto 16px;opacity:0.3}
    .cart-footer{
      border-top:1px solid #e5e7eb;padding:24px;background:white;
    }
    .cart-total{
      display:flex;justify-content:space-between;font-size:18px;margin-bottom:20px;
    }
    .cart-total span:last-child{font-weight:bold;color:var(--brown)}
    .checkout-btn{
      width:100%;background:var(--brown);color:white;border:none;
      padding:14px;border-radius:8px;font-size:16px;font-weight:500;
      cursor:pointer;margin-bottom:12px;transition:background .3s;
    }
    .checkout-btn:hover{background:#3a2f21}
    .clear-btn{
      width:100%;background:#e5e7eb;color:var(--brown);border:none;
      padding:12px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;
    }
    .clear-btn:hover{background:#d1d5db}

    /* --- Footer --- */
    .site-footer{
      background:var(--brown);
      color:var(--beige);
      padding:40px 0;
      text-align:center;
    }
    .site-footer a{color:var(--beige);text-decoration:none}

    @media(max-width:1100px){.lookbook{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:768px){
      .hero-title{font-size:34px}
      .modal-body{grid-template-columns:1fr}
      .lookbook{grid-template-columns:1fr}
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header class="site-header" id="header">
    <div class="header-inner">
      <a class="logo" href="#">Timeless Style</a>
      <nav class="nav">
        <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
        <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <a href="Autor.html">–ê–≤—Ç–æ—Ä</a>
        <button class="cart-btn" id="cartToggle">
          –ö–æ—Ä–∑–∏–Ω–∞ (<span id="cartCount">0</span>)
          <span class="cart-badge" id="cartBadge" style="display:none">0</span>
        </button>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <video autoplay muted loop playsinline>
      <source src="http://budless.kz/wp-content/uploads/2024/11/img_7742.mp4" type="video/mp4">
    </video>
    <div class="hero-overlay"></div>
    <div class="hero-inner">
      <div class="hero-left">
        <h1 class="hero-title">–≠–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å. –ü–æ—Å–∞–¥–∫–∞. –î–µ—Ç–∞–ª—å.</h1>
        <p class="hero-sub">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –º—É–∂—Å–∫–∏–µ –∫–æ—Å—Ç—é–º—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∂–∏–∑–Ω–∏.</p>
        <div class="hero-actions">
          <a href="catalog.html" style="background:#4a3b2b;color:var(--beige)">Shop now</a>
          <a href="Autor.html" style="border:1px solid rgba(255,255,255,0.4);color:var(--beige)">–°–≤—è–∑–∞—Ç—å—Å—è</a>
        </div>
      </div>
    </div>
  </section>

  <!-- POPULAR PRODUCTS -->
  <section class="section" id="products">
    <div class="container">
      <h3 class="title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–æ—Å—Ç—é–º—ã</h3>
      <div class="grid" id="productsGrid"></div>
    </div>
  </section>

  <!-- LOOKBOOK -->
  <section class="section">
    <div class="container">
      <h3 class="title">Lookbook</h3>
      <div class="lookbook">
        <img src="https://budless.kz/wp-content/uploads/2023/10/img_8890-1024x682.jpg" alt="look1">
        <img src="https://budless.kz/wp-content/uploads/2023/10/img_8876-683x1024.jpg" alt="look2">
        <img src="https://budless.kz/wp-content/uploads/2023/10/img_8896-722x1024.jpg" alt="look3">
        <img src="https://budless.kz/wp-content/uploads/2023/10/photo_2023-10-11_09-55-53-682x1024.jpg" alt="look4">
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container">
      <strong>Timeless Style</strong><br>
      ¬© <span id="year"></span> ¬∑ Almaty, Kazakhstan
    </div>
  </footer>

  <!-- PRODUCT MODAL -->
  <div class="modal" id="productModal">
    <div class="modal-content">
      <button class="modal-close" id="modalClose">√ó</button>
      <div class="modal-body" id="modalBody"></div>
    </div>
  </div>

  <!-- CART SIDEBAR -->
  <div class="cart-overlay" id="cartOverlay"></div>
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <button class="cart-close" id="cartClose">‚úï</button>
      <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
      <p id="cartItemCount">0 —Ç–æ–≤–∞—Ä–æ–≤</p>
    </div>
    <div class="cart-items" id="cartItemsList"></div>
    <div class="cart-footer">
      <div class="cart-total">
        <span>–ò—Ç–æ–≥–æ:</span>
        <span id="cartTotal">0 ‚Ç∏</span>
      </div>
      <button class="checkout-btn" id="checkoutBtn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
      <button class="clear-btn" id="clearBtn">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
    </div>
  </div>

  <script>
    // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤
    const products = [
      {
        id: 1,
        name: "–ö–æ—Å—Ç—é–º –¥–≤—É–±–æ—Ä—Ç–Ω—ã–π –Ω–∞ –∑–∞–≤—è–∑–∫–µ",
        price: 95000,
        image: "https://budless.kz/wp-content/uploads/2023/10/img_8551-2.png",
        description: "–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π –¥–≤—É–±–æ—Ä—Ç–Ω—ã–π –∫–æ—Å—Ç—é–º —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∑–∞—Å—Ç–µ–∂–∫–∏ –Ω–∞ –∑–∞–≤—è–∑–∫–∞—Ö. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫—Ä–æ–π —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–µ—Ç–∞–ª—è–º–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–ø–æ–≤—Ç–æ—Ä–∏–º–æ–≥–æ –æ–±—Ä–∞–∑–∞.",
        category: "–ö–æ—Å—Ç—é–º—ã"
      },
      {
        id: 2,
        name: "–ö–æ—Å—Ç—é–º –¥–≤—É–±–æ—Ä—Ç–Ω—ã–π –Ω–∞ –¥–µ—Å—è—Ç–∏ –ø—É–≥–æ–≤–∏—Ü–∞—Ö",
        price: 105000,
        image: "https://budless.kz/wp-content/uploads/2023/10/img_8550-1.png",
        description: "–†–æ—Å–∫–æ—à–Ω—ã–π –¥–≤—É–±–æ—Ä—Ç–Ω—ã–π –∫–æ—Å—Ç—é–º —Å –¥–µ—Å—è—Ç—å—é –ø—É–≥–æ–≤–∏—Ü–∞–º–∏. –ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ —Ç—Ä–∞–¥–∏—Ü–∏–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è.",
        category: "–ö–æ—Å—Ç—é–º—ã"
      },
      {
        id: 3,
        name: "–ö–æ—Å—Ç—é–º –¥–≤—É–±–æ—Ä—Ç–Ω—ã–π –Ω–∞ –ø—è—Ç–∏ –∑–∞—Å—Ç–µ–∂–∫–∞—Ö",
        price: 89000,
        image: "https://budless.kz/wp-content/uploads/2023/10/img_8552.png",
        description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –¥–≤—É–±–æ—Ä—Ç–Ω—ã–π –∫–æ—Å—Ç—é–º —Å –ø—è—Ç—å—é –∑–∞—Å—Ç–µ–∂–∫–∞–º–∏. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –¥–µ–ª–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á.",
        category: "–ö–æ—Å—Ç—é–º—ã"
      },
      {
        id: 4,
        name: "–ö–æ—Å—Ç—é–º –¥–≤—É–±–æ—Ä—Ç–Ω—ã–π, –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π",
        price: 110000,
        image: "https://budless.kz/wp-content/uploads/2024/03/img_3396-scaled.jpeg",
        description: "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ—Å—Ç—é–º –ø—Ä–µ–º–∏—É–º –∫–ª–∞—Å—Å–∞. –°–æ—á–µ—Ç–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–µ–∫—Å—Ç—É—Ä –∏ –æ—Ç—Ç–µ–Ω–∫–æ–≤.",
        category: "–ö–æ—Å—Ç—é–º—ã"
      }
    ];

    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
    let cart = [];

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.addEventListener('DOMContentLoaded', () => {
      loadCart();
      renderProducts();
      updateCartUI();
      setupEventListeners();
      
      document.getElementById("year").textContent = new Date().getFullYear();
      
      const header = document.getElementById("header");
      window.addEventListener("scroll", () => {
        if(window.scrollY > 60) {
          header.classList.add("scrolled");
        } else {
          header.classList.remove("scrolled");
        }
      });
    });

    // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã –∏–∑ localStorage
    function loadCart() {
      const saved = localStorage.getItem('timeless_cart');
      if (saved) {
        try {
          cart = JSON.parse(saved);
        } catch(e) {
          cart = [];
        }
      }
    }

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã –≤ localStorage
    function saveCart() {
      localStorage.setItem('timeless_cart', JSON.stringify(cart));
      updateCartUI();
    }

    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω—ã
    function formatPrice(price) {
      return new Intl.NumberFormat('ru-RU').format(price) + ' ‚Ç∏';
    }

    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
    function renderProducts() {
      const grid = document.getElementById('productsGrid');
      grid.innerHTML = products.map(p => `
        <div class="card" data-id="${p.id}">
          <img src="${p.image}" alt="${p.name}">
          <div class="card-body">
            <h4>${p.name}</h4>
            <div class="price">${formatPrice(p.price)}</div>
            <button class="buy-btn" onclick="addToCart(${p.id}, event)">–ö—É–ø–∏—Ç—å</button>
          </div>
        </div>
      `).join('');

      // –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É
      document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('click', (e) => {
          if (!e.target.classList.contains('buy-btn')) {
            const id = parseInt(card.dataset.id);
            openModal(id);
          }
        });
      });
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function openModal(id) {
      const product = products.find(p => p.id === id);
      if (!product) return;

      const modal = document.getElementById('productModal');
      const body = document.getElementById('modalBody');
      
      body.innerHTML = `
        <div class="modal-image">
          <img src="${product.image}" alt="${product.name}">
        </div>
        <div class="modal-info">
          <div>
            <span class="modal-category">${product.category}</span>
            <h2 class="modal-title">${product.name}</h2>
            <p class="modal-description">${product.description}</p>
            <div class="modal-price">${formatPrice(product.price)}</div>
          </div>
          <div class="modal-actions">
            <button class="btn-add" onclick="addToCart(${product.id}); closeModal()">
              –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
            </button>
            <button class="btn-cancel" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
          </div>
        </div>
      `;
      
      modal.classList.add('active');
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function closeModal() {
      document.getElementById('productModal').classList.remove('active');
    }

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
    function addToCart(id, event) {
      if (event) event.stopPropagation();
      
      const product = products.find(p => p.id === id);
      if (!product) return;

      const existing = cart.find(item => item.id === id);
      if (existing) {
        existing.quantity++;
      } else {
        cart.push({...product, quantity: 1});
      }
      
      saveCart();
    }

    // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
    function increaseQty(id) {
      const item = cart.find(i => i.id === id);
      if (item) {
        item.quantity++;
        saveCart();
      }
    }

    // –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
    function decreaseQty(id) {
      const item = cart.find(i => i.id === id);
      if (item && item.quantity > 1) {
        item.quantity--;
        saveCart();
      }
    }

    // –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
    function removeFromCart(id) {
      cart = cart.filter(i => i.id !== id);
      saveCart();
    }

    // –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
    function clearCart() {
      if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É?')) {
        cart = [];
        saveCart();
      }
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –∫–æ—Ä–∑–∏–Ω—ã
    function updateCartUI() {
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      const totalPrice = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);

      // –°—á–µ—Ç—á–∏–∫ –≤ header
      document.getElementById('cartCount').textContent = totalItems;
      const badge = document.getElementById('cartBadge');
      if (totalItems > 0) {
        badge.style.display = 'flex';
        badge.textContent = totalItems;
      } else {
        badge.style.display = 'none';
      }

      // –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
      const list = document.getElementById('cartItemsList');
      document.getElementById('cartItemCount').textContent = 
        `${totalItems} ${totalItems === 1 ? '—Ç–æ–≤–∞—Ä' : '—Ç–æ–≤–∞—Ä–æ–≤'}`;
      
      if (cart.length === 0) {
        list.innerHTML = `
          <div class="cart-empty">
            <svg width="64" height="64" fill="currentColor" viewBox="0 0 24 24">
              <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.6-1.4 2.5c-.2.3-.2.6-.2.9 0 1.1.9 2 2 2h12v-2H7.4c-.1 0-.2-.1-.2-.2l.03-.12L8.1 13h7.5c.8 0 1.5-.4 1.9-1l3.6-6.5c.1-.2.2-.4.2-.5 0-.6-.4-1-1-1H5.2l-.9-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
            </svg>
            <p>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
          </div>
        `;
      } else {
        list.innerHTML = cart.map(item => `
          <div class="cart-item">
            <img src="${item.image}" alt="${item.name}" class="cart-item-img">
            <div class="cart-item-info">
              <div class="cart-item-name">${item.name}</div>
              <div class="cart-item-price">${formatPrice(item.price)}</div>
              <div class="cart-item-controls">
                <div class="qty-control">
                  <button class="qty-btn" onclick="decreaseQty(${item.id})">‚àí</button>
                  <span class="qty-value">${item.quantity}</span>
                  <button class="qty-btn" onclick="increaseQty(${item.id})">+</button>
                </div>
                <button class="remove-btn" onclick="removeFromCart(${item.id})">
                  üóëÔ∏è
                </button>
              </div>
            </div>
          </div>
        `).join('');
      }

      // –ò—Ç–æ–≥–æ
      document.getElementById('cartTotal').textContent = formatPrice(totalPrice);
    }

    // –°–æ–±—ã—Ç–∏—è
    function setupEventListeners() {
      document.getElementById('cartToggle').addEventListener('click', () => {
        document.getElementById('cartSidebar').classList.add('active');
        document.getElementById('cartOverlay').classList.add('active');
      });

      document.getElementById('cartClose').addEventListener('click', () => {
        document.getElementById('cartSidebar').classList.remove('active');
        document.getElementById('cartOverlay').classList.remove('active');
      });

      document.getElementById('cartOverlay').addEventListener('click', () => {
        document.getElementById('cartSidebar').classList.remove('active');
        document.getElementById('cartOverlay').classList.remove('active');
      });

      document.getElementById('modalClose').addEventListener('click', closeModal);
      
      document.getElementById('productModal').addEventListener('click', (e) => {
        if (e.target.id === 'productModal') closeModal();
      });

      document.getElementById('clearBtn').addEventListener('click', clearCart);

      document.getElementById('checkoutBtn').addEventListener('click', () => {
  if (cart.length === 0) {
    alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!');
  } else {
    document.getElementById('cartSidebar').classList.remove('active');
    document.getElementById('cartOverlay').classList.remove('active');
    window.location.href = 'checkout.html';
  }
});
    }
  </script>
</body>
</html>